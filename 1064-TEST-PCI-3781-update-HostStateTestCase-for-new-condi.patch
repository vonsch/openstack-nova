From e4ebe775aeb30bb789a2987d7e41abd2a1c13fef Mon Sep 17 00:00:00 2001
From: Yury Tsarev <yury.tsarev@gooddata.com>
Date: Thu, 11 Sep 2014 13:45:54 +0200
Subject: [PATCH 2/3] TEST: PCI-3781 update HostStateTestCase for new
 conditions

---
 nova/tests/test_libvirt.py | 9 +++------
 1 file changed, 3 insertions(+), 6 deletions(-)

diff --git a/nova/tests/test_libvirt.py b/nova/tests/test_libvirt.py
index b26a006..b37c688 100644
--- a/nova/tests/test_libvirt.py
+++ b/nova/tests/test_libvirt.py
@@ -2999,12 +2999,6 @@ class HostStateTestCase(test.TestCase):
         def get_cpu_info(self):
             return HostStateTestCase.cpu_info
 
-        def get_local_gb_total(self):
-            return 100
-
-        def get_local_gb_used(self):
-            return 20
-
         def get_memory_mb_total(self):
             return 497
 
@@ -3030,6 +3024,9 @@ class HostStateTestCase(test.TestCase):
         def get_instance_capabilities(self):
             return HostStateTestCase.instance_caps
 
+        def get_local_gb_all_info(self):
+            return (100, 20, 80)
+
     def test_update_status(self):
         self.mox.StubOutWithMock(libvirt_driver, 'LibvirtDriver')
         libvirt_driver.LibvirtDriver(True).AndReturn(self.FakeConnection())
-- 
1.9.1

