From 638dd3f2c62060dda291cfdfcb432e7d88a4bd84 Mon Sep 17 00:00:00 2001
From: Martin Surovcak <martin.surovcak@gooddata.com>
Date: Mon, 20 Jan 2014 17:17:41 +0100
Subject: [PATCH 1/1] FEATURE: PCI-3186 Show auto-assigned IP's in
 floating-ip-list

---
 nova/db/sqlalchemy/api.py | 4 ----
 1 file changed, 4 deletions(-)

diff --git a/nova/db/sqlalchemy/api.py b/nova/db/sqlalchemy/api.py
index 43eb95c..cc33ccb 100644
--- a/nova/db/sqlalchemy/api.py
+++ b/nova/db/sqlalchemy/api.py
@@ -793,11 +793,9 @@ def floating_ip_create(context, values, session=None):
 @require_context
 def floating_ip_count_by_project(context, project_id, session=None):
     authorize_project_context(context, project_id)
-    # TODO(tr3buchet): why leave auto_assigned floating IPs out?
     return model_query(context, models.FloatingIp, read_deleted="no",
                        session=session).\
                    filter_by(project_id=project_id).\
-                   filter_by(auto_assigned=False).\
                    count()
 
 
@@ -905,10 +903,8 @@ def floating_ip_get_all_by_host(context, host):
 @require_context
 def floating_ip_get_all_by_project(context, project_id):
     authorize_project_context(context, project_id)
-    # TODO(tr3buchet): why do we not want auto_assigned floating IPs here?
     return _floating_ip_get_all(context).\
                          filter_by(project_id=project_id).\
-                         filter_by(auto_assigned=False).\
                          all()
 
 
-- 
1.8.3.1

