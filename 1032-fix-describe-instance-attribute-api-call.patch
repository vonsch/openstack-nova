diff --git a/nova/api/ec2/cloud.py b/nova/api/ec2/cloud.py
index 6afb05a..2397c30 100644
--- a/nova/api/ec2/cloud.py	2013-04-11 21:37:51.000000000 +0200
+++ b/nova/api/ec2/cloud.py	2014-03-07 12:10:33.230462363 +0100
@@ -878,9 +878,9 @@
         def _format_attr_instance_initiated_shutdown_behavior(instance,
                                                                result):
             if instance['shutdown_terminate']:
-                result['instanceInitiatedShutdownBehavior'] = 'terminate'
+                result['instanceInitiatedShutdownBehavior'] = {'value': 'terminate'}
             else:
-                result['instanceInitiatedShutdownBehavior'] = 'stop'
+                result['instanceInitiatedShutdownBehavior'] = {'value': 'stop'}
 
         def _format_attr_instance_type(instance, result):
             self._format_instance_type(instance, result)
@@ -898,7 +898,10 @@
             _unsupported_attribute(instance, result)
 
         def _format_attr_user_data(instance, result):
-            result['userData'] = base64.b64decode(instance['user_data'])
+            if instance['user_data'] is not None:
+               result['userData'] = {'value': base64.b64decode(instance['user_data'])}
+            else:
+               result['userData'] = {'value': ''}
 
         attribute_formatter = {
             'blockDeviceMapping': _format_attr_block_device_mapping,
